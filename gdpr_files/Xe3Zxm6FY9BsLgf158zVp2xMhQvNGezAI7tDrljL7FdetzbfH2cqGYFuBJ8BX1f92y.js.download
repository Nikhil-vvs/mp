if (self.CavalryLogger) { CavalryLogger.start_js(["vzG5z"]); }

__d("CometAIProductTagSuggestionsUtil_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometAIProductTagSuggestionsUtil_photo"};e.exports=a}),null);
__d("useCometMediaViewerComposerMentionsBootstrapDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"existing_ids"},b={defaultValue:null,kind:"LocalArgument",name:"options"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"types"},e=[{kind:"Variable",name:"existing_ids",variableName:"existing_ids"},{kind:"Literal",name:"include_viewer",value:!0},{kind:"Variable",name:"options",variableName:"options"},{kind:"Literal",name:"typeahead_context",value:"comet_media_viewer_mentions_limited"},{kind:"Variable",name:"types",variableName:"types"}],f={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},j=[g,h,i];h=[h,i];return{fragment:{argumentDefinitions:[a,b,c,d],kind:"Fragment",metadata:null,name:"useCometMediaViewerComposerMentionsBootstrapDataSourceQuery",selections:[{alias:null,args:e,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:j,type:"User",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:j,type:"ContextualProfile",abstractKey:"__isContextualProfile"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,b,a],kind:"Operation",name:"useCometMediaViewerComposerMentionsBootstrapDataSourceQuery",selections:[{alias:null,args:e,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g,{kind:"InlineFragment",selections:h,type:"User",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:h,type:"ContextualProfile",abstractKey:"__isContextualProfile"}],storageKey:null}],storageKey:null}]},params:{id:"4295094367182811",metadata:{},name:"useCometMediaViewerComposerMentionsBootstrapDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometMediaViewerComposerMentionsNetworkDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},b={defaultValue:null,kind:"LocalArgument",name:"existing_ids"},c={defaultValue:null,kind:"LocalArgument",name:"photo_id"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"search"},f={defaultValue:null,kind:"LocalArgument",name:"types"},g=[{kind:"Variable",name:"count",variableName:"count"},{kind:"Literal",name:"exclude_memorialized_users",value:!0},{kind:"Variable",name:"existing_ids",variableName:"existing_ids"},{kind:"Literal",name:"include_viewer",value:!0},{kind:"Variable",name:"photo_id",variableName:"photo_id"},{kind:"Variable",name:"query",variableName:"search"},{kind:"Literal",name:"typeahead_context",value:"comet_media_viewer_mentions"},{kind:"Variable",name:"types",variableName:"types"}],h={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},l=[i,j,k];j=[j,k];return{fragment:{argumentDefinitions:[a,b,c,d,e,f],kind:"Fragment",metadata:null,name:"useCometMediaViewerComposerMentionsNetworkDataSourceQuery",selections:[{alias:null,args:g,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:l,type:"User",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Page",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,d,a,f,c,b],kind:"Operation",name:"useCometMediaViewerComposerMentionsNetworkDataSourceQuery",selections:[{alias:null,args:g,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:j,type:"User",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Page",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2164840990282616",metadata:{},name:"useCometMediaViewerComposerMentionsNetworkDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometMediaViewerComposerMentionsNullstateDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"existing_ids"},b={defaultValue:null,kind:"LocalArgument",name:"options"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"types"},e=[{kind:"Variable",name:"existing_ids",variableName:"existing_ids"},{kind:"Literal",name:"include_viewer",value:!0},{kind:"Variable",name:"options",variableName:"options"},{kind:"Literal",name:"typeahead_context",value:"comet_media_viewer_mentions_limited"},{kind:"Variable",name:"types",variableName:"types"}],f={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},j=[g,h,i];h=[h,i];return{fragment:{argumentDefinitions:[a,b,c,d],kind:"Fragment",metadata:null,name:"useCometMediaViewerComposerMentionsNullstateDataSourceQuery",selections:[{alias:null,args:e,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:j,type:"User",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:j,type:"ContextualProfile",abstractKey:"__isContextualProfile"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,b,a],kind:"Operation",name:"useCometMediaViewerComposerMentionsNullstateDataSourceQuery",selections:[{alias:null,args:e,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g,{kind:"InlineFragment",selections:h,type:"User",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:h,type:"ContextualProfile",abstractKey:"__isContextualProfile"}],storageKey:null}],storageKey:null}]},params:{id:"4283771601648648",metadata:{},name:"useCometMediaViewerComposerMentionsNullstateDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometMediaViewerTaggingMentionsStrategyResolver_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometMediaViewerTaggingMentionsStrategyResolver_photo",selections:[{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometAIProductTagSuggestionsUtil.react",["CometRelay","CometAIProductTagSuggestionsUtil_photo.graphql"],(function(a,b,c,d,e,f){"use strict";f.processAIProductTagSuggestionsQueryResponse=a;f.getUntaggedKnownTags=c;f.getUntaggedUnknownTags=d;var g,h=5,i=90,j=.35,k=g!==void 0?g:g=b("CometAIProductTagSuggestionsUtil_photo.graphql");function a(a){var b=new Map();a.product_tag_suggestions.map(function(a){var c=a.photo_id;a=a.suggestions;if(c==null||a==null)return;var d=[],e=[];a.map(function(a){a=(a=a)!=null?a:{};var b=a.bottom_right,c=a.center_x,f=a.center_y,g=a.products,h=a.score;a=a.top_left;if(c==null||f==null||h==null)return;c=c*100;f=f*100;g=g==null?void 0:g[0];var k=g==null?void 0:g.score;g=(g=g==null?void 0:g.product_item)!=null?g:{};var l=g.id,m=g.listing_price,n=g.name;g=g.primary_listing_photo;b={boundingBoxJSON:JSON.stringify({bottomRight:b,topLeft:a}),boxScore:h,productID:l,productScore:k};if(k!=null&&k<i&&d.length===0){if(l==null||n==null)return null;k={id:l,image_uri:g==null?void 0:(a=g.image)==null?void 0:a.uri,name:n,product_price:m==null?void 0:m.formatted_amount};l=babelHelpers["extends"]({},b,{source:"AI_suggested",taggee:k,x:c,y:f});d.push(l)}else h>j&&e.push(babelHelpers["extends"]({},b,{x:c,y:f}))});b.set(c,{knownSuggestions:d,unknownSuggestions:e})});return b}function l(a,b){return a.productID===b.productID||a.x>=b.x-h&&a.x<=b.x+h&&a.y>=b.y-h&&a.y<=b.y+h}function m(a){return(a=a==null?void 0:(a=a.photo_product_tags)==null?void 0:a.map(function(a){var b;b=(b=a.product_item)==null?void 0:b.id;a=a.xy_location;var c=a==null?void 0:a.x;a=a==null?void 0:a.y;return c===void 0||c===null||a===void 0||a===null||b===null||b===void 0?null:{productID:b,x:c,y:a}}).filter(Boolean))!=null?a:[]}function c(a,c){a=b("CometRelay").readInlineData(k,a);c=c==null?void 0:c.get((c=a==null?void 0:a.id)!=null?c:"");var d=m(a);if(!c)return[];a=c==null?void 0:c.filter(function(a){var b=(d==null?void 0:d.filter(function(b){return l({productID:a.productID,x:a.x,y:a.y},b)}).length)>0;return!b});return a}function d(a,c){a=b("CometRelay").readInlineData(k,a);c=c==null?void 0:c.get((c=a==null?void 0:a.id)!=null?c:"");var d=m(a);if(!c)return[];a=c==null?void 0:c.filter(function(a){var b=(d==null?void 0:d.filter(function(b){return l({productID:a.productID,x:a.x,y:a.y},b)}).length)>0;return!b});return a}}),null);
__d("CometProductTagUnknownDotHint.react",["ix","CometTintedIcon.react","React","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=h.useState(!1),d=c[0],e=c[1];c=d?"var(--accent)":"var(--fds-black-alpha-20)";return h.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t j83agx80 bp9cbjyn",onMouseEnter:function(){return e(!0)},onMouseLeave:function(){return e(!1)},style:{padding:a.padding},children:h.jsx("div",{style:{backgroundClip:"padding-box",border:a.borderSize+"px solid "+c,borderRadius:"50%",height:a.dotSize,width:a.dotSize},children:h.jsx(b("CometTintedIcon.react"),{color:"fds-white",icon:b("fbicon")._(g("496949"),16)})})})}}),null);
__d("CometPhotoProductTagMenuItem.react",["CometImage.react","CometMenuItem.react","CometMenuItemBase.react","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CommercePdpProductTagClickFalcoEvent","MediaEditorViewStateContext","ProductTaggingBuyerTypedLogger","React","TetraText.react","XCometCommerceProductItemControllerRouteBuilder","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=70,j="#",k="product_tag_on_photo_fullscreen_",l="unconnected_commerce_product_match_on_photo_fullscreen_";function a(a,c){var d,e=a.adID,f=a.isProductMatch,n=a.postID,o=a.productID,p=h.useContext(b("CometProductTagFunnelIDContext")),q=(d=h.useContext(b("MediaEditorViewStateContext")))==null?void 0:d.activeTool,r=h.useContext(b("CometProductTagReferralCodeContext"));if(n==null||o==null)return null;var s=f===!0?l:k,t=function(){b("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:e,component:"CometPhotoProductTagMenuItem",funnel_id:p,marketplace_surface:"photo_fullscreen",post_id:n,product_id:o,referral_code:s+n}});if(r!=null){var c=new(b("ProductTaggingBuyerTypedLogger"))();c.updateData({component:"CometPhotoProductTagMenuItem",post_id:a.postID,referral_code:r,surface:"page_photos_tab",unresolved_event:"Actn_PDPProductTagClick"}).log()}};d=s+n;f=b("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:o,referral_code:p!=null?d+j+p:d});d=function(a){var b=a.children,c=a.condition;a=a.wrapper;return c?a(b):b};d=h.jsx(d,{condition:a.tagModeEnabled===!0||q==="PRODUCT_TAG",wrapper:function(a){return h.jsx("div",{className:(g||(g=b("stylex")))(m.productTagModeCursor),children:a})},children:h.jsxs("div",{className:(g||(g=b("stylex")))(m.rootLayout),children:[h.jsx(b("CometImage.react"),{height:i,src:(d=a.profilePictureUri)!=null?d:"",width:i,xstyle:m.profileImage}),h.jsxs("div",{className:g(m.rightContent),children:[h.jsx("div",{className:g(m.productName),children:h.jsx(b("TetraText.react"),{color:"primary",numberOfLines:2,type:"bodyLink3",children:a.primaryText})}),h.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:a.bodyText})]}),h.jsx("div",{className:g(m.crossButton),children:a.aux})]})});return h.jsx(b("CometMenuItemBase.react"),{alignCenter:!0,href:a.tagModeEnabled===!0||q==="PRODUCT_TAG"?"#":f,iconNode:d,onClick:function(b){a.tagModeEnabled===!0||q==="PRODUCT_TAG"?(b.stopPropagation(),b.nativeEvent.stopImmediatePropagation()):t()},primaryText:"",ref:c})}var m={crossButton:{alignSelf:"nqmvxvec",marginStart:"ozuftl9m"},productName:{marginBottom:"tvmbv18p"},productTagModeCursor:{cursor:"rj84mg9z"},profileImage:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},rightContent:{marginStart:"ozuftl9m"},rootLayout:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"btwxx1t3",maxWidth:"ercu3ouj"}};c=h.forwardRef(a);e.exports=c}),null);
__d("CometPhotoTagMenuItem.react",["CometMenuItemBase.react","CometMenuItemIcon.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a.icon,e=a.iconStyle;e=e===void 0?"normal":e;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","iconStyle"]);return g.jsx(b("CometMenuItemBase.react"),babelHelpers["extends"]({},a,{alignCenter:!0,iconNode:d!=null?g.jsx(b("CometMenuItemIcon.react"),{icon:d,use:e}):null,ref:c}))}c=g.forwardRef(a);e.exports=c}),null);
__d("adjustFaceboxPosition",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=a.originalPos,c=a.imageDimension;a=a.boxSize;return b<0?0:b+a>c?c-a:b}}),null);
__d("useContextualTagBoxReposition",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useRef(null),b=g.useCallback(function(){a.current!=null&&a.current.reposition({autoflip:!0})},[]);g.useLayoutEffect(function(){b()},[b]);return{ref:a,reposition:b}}}),null);
__d("CometComposerProductTagUtils",[],(function(a,b,c,d,e,f){"use strict";a=35;f.PRETAGGING_PRODUCT_THRESHOLD=a}),null);
__d("CometPhotoEditorTagContextualSquare.react",["fbt","CometContextualLayer.react","CometPressable.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={pressable:{appearance:"dwo3fsh8",borderStyle:"ow4ym5g4",borderWidth:"auili1gw",boxSizing:"rq0escxv",cursor:"nhd2j8a9",marginBottom:"oygrvhab",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginTop:"kvgmc6g5",paddingBottom:"qt6c0cv9",paddingEnd:"rz4wbd8a",paddingStart:"a8nywdso",paddingTop:"jb3vyjys",position:"l9j0dhe7",textAlign:"i1ao9s8h",zIndex:"du4w35lb",backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d"},tagBox:{borderTop:"gag4i7dh",borderEnd:"jsrkvy3z",borderBottom:"moy3fgm5",borderStart:"kozd3uwk",boxShadow:"pp202wsm",position:"pmk7jnqg",zIndex:"tkr6xdv7"}};function a(a,c){var d=a.children,e=a.onPress,f=a.tagBoxSize,k=a.xPos;a=a.yPos;var l=i.useRef(null),m=i.useReducer(function(a){a===void 0&&(a=0);return a+1}),n=m[0],o=m[1];i.useEffect(function(){o()},[a,k]);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.tagBox),"data-testid":void 0,ref:l,style:{left:k,top:a},children:i.jsx(b("CometPressable.react"),{"aria-label":g._("tag box"),display:"inline",onPress:e,overlayDisabled:!0,xstyle:j.pressable,children:i.jsx("div",{style:{height:f,width:f}})})}),l.current&&i.jsx(b("CometContextualLayer.react"),{align:"middle",context:l.current,position:"below",ref:c,children:d},n)]})}c=i.forwardRef(a);e.exports=c}),null);
__d("updateTagReducer",["CometProductTaggingConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,c,d){var e,f=d.x-(e=b("CometProductTaggingConstants")).TOTAL_DOT_SIZE,g=d.y-e.TOTAL_DOT_SIZE,h=d.x+e.TOTAL_DOT_SIZE;d=d.y+e.TOTAL_DOT_SIZE;return a>=f&&a<=h&&c>=g&&c<=d}function a(a,b){var c;switch(b.type){case"REMOVE_TAG":return babelHelpers["extends"]({},a,{tags:((c=a.tags)!=null?c:[]).filter(function(a){return(a==null?void 0:(a=a.taggee)==null?void 0:a.id)!==b.tagToDelete})});case"ADD_TAG":return babelHelpers["extends"]({},a,{tags:[].concat((c=a.tags)!=null?c:[],[b.newTag]),unknownProductTagSuggestions:((c=a.unknownProductTagSuggestions)!=null?c:[]).filter(function(a){return!g(a.x,a.y,b.newTag)})});case"ADD_KNOWN_AI_SUGGESTED_PRODUCT_TAG":var d={source:b.newAISuggestedProductTag.source,taggee:b.newAISuggestedProductTag.taggee,x:b.newAISuggestedProductTag.x,y:b.newAISuggestedProductTag.y};return babelHelpers["extends"]({},a,{tags:((c=a.tags)!=null?c:[]).filter(function(a){return a.taggee.id===d.taggee.id}).length>0?(c=a.tags)!=null?c:[]:[].concat((c=a.tags)!=null?c:[],[d])});case"ADD_UNKNOWN_AI_SUGGESTED_PRODUCT_TAG":return babelHelpers["extends"]({},a,{unknownProductTagSuggestions:((c=a.unknownProductTagSuggestions)!=null?c:[]).includes(b.newUnknownSuggestedProductTag)||((c=a.tags)!=null?c:[]).some(function(a){return g(b.newUnknownSuggestedProductTag.x,b.newUnknownSuggestedProductTag.y,a)})?(c=a.unknownProductTagSuggestions)!=null?c:[]:[].concat((c=a.unknownProductTagSuggestions)!=null?c:[],[b.newUnknownSuggestedProductTag])})}return a}}),null);
__d("CometPhotoEditorTagDropdown.react",["ix","fbt","CometMenu.react","CometPhotoProductTagMenuItem.react","CometPhotoTagMenuItem.react","CometTooltip.react","CometTrackingNodeProvider.react","React","TetraIcon.react","emptyFunction","fbicon","gkx","stylex","updateTagReducer","useComposerViewStateDispatcher","useMediaEditorReducer","useMediaEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.id,d=a.name,e=a.onDeletePressed,f=a.onMouseEnter,j=a.onMouseLeave,k=a.photoID,l=a.productImage;a=a.productPrice;var m=i.useState(!1),n=m[0],o=m[1],p=b("useComposerViewStateDispatcher")();b("useMediaEditorReducer")(b("updateTagReducer"));var q=b("useMediaEditorViewStateDispatcher")(),r=i.useCallback(function(a){var b;e&&e();q({tagToDelete:a,type:"REMOVE_TAG"});p({mediaID:(b=k)!=null?b:"",tagIDToDelete:a,type:"REMOVE_AI_SUGGESTED_TAG"})},[p,q,e,k]);m=d;var s=function(){r&&r(c),o(!0)},t=null;b("gkx")("1069716")&&d!=null&&l!=null&&a!=null&&c!=null?t=i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:i.jsx(b("CometPhotoProductTagMenuItem.react"),{aux:i.jsx(b("CometTooltip.react"),{position:"above",tooltip:h._("Remove product tag"),children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("Delete Tag"),color:n?"disabled":"primary",disabled:n,icon:b("fbicon")._(g("478232"),16),onPress:n?b("emptyFunction"):s})}),bodyText:a,disabled:n,postID:k,primaryText:m,productID:c,profilePictureUri:l})}):d!=null&&(t=i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:i.jsx(b("CometPhotoTagMenuItem.react"),{aux:i.jsx(b("TetraIcon.react"),{"aria-label":h._("Delete Tag"),color:n?"disabled":"primary",disabled:n,icon:b("fbicon")._(g("478232"),16),onPress:n?b("emptyFunction"):s}),disabled:n,primaryText:m})}));return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:254,children:i.jsx("div",{className:"j83agx80",onMouseEnter:f,onMouseLeave:j,children:t})})}}),null);
__d("CometPhotoEditorUnknownTagBox.react",["fbt","CometPressable.react","CometProductTaggingConstants","CometProductTagUnknownDotHint.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=c;var h=b("React");function c(c){var d=h.useRef(c.logImpression);h.useEffect(function(){d.current&&d.current()},[]);var e=h.useRef(null),f=h.useCallback(function(){e.current!=null&&e.current.reposition({autoflip:!0})},[]);h.useEffect(function(){a.addEventListener("resize",f);return function(){a.removeEventListener("resize",f)}},[f]);var i=c.horizontalPercentage,j=c.verticalPercentage;return h.jsx("div",{className:"pmk7jnqg oqq733wu",style:{left:"calc("+i+"% - "+b("CometProductTaggingConstants").TOTAL_DOT_SIZE+"px / 2",top:"calc("+j+"% - "+b("CometProductTaggingConstants").TOTAL_DOT_SIZE+"px / 2"},children:h.jsx(b("CometPressable.react"),{"aria-label":g._("Tag dot"),onPress:function(){c.onPress(i,j)},overlayDisabled:!0,children:h.jsx(b("CometProductTagUnknownDotHint.react"),{borderSize:c.borderSize,dotSize:c.tagBoxSize,padding:b("CometProductTaggingConstants").DOT_HINT_PADDING})})})}}),null);
__d("useCometMediaViewerComposerMentionsBootstrapDataSource",["CometRelay","FeedComposerCometMentionsTypeaheadEntry","WebPixelRatio","useCometTypeaheadCompositeBootstrapDataSource","useCometMediaViewerComposerMentionsBootstrapDataSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useCometMediaViewerComposerMentionsBootstrapDataSourceQuery.graphql");function a(a){var c=a.existingIDs,d=a.firstDegreeFinderOptions,e=a.limit;a=a.mentionTypes;return b("useCometTypeaheadCompositeBootstrapDataSource")({gqlQuery:h,limit:e,normalize:i,queryVariables:{existing_ids:c.map(function(a){return parseInt(a,10)}),options:d,scale:b("WebPixelRatio").get(),types:a}})}function i(a){a=a==null?void 0:a.comet_composer_typeahead_bootload;return a==null?[]:a.map(function(a){if(a==null)return;return b("FeedComposerCometMentionsTypeaheadEntry").fromGraphql({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}}),null);
__d("useCometMediaViewerComposerMentionsNetworkDataSource",["CometRelay","FeedComposerCometMentionsTypeaheadEntry","WebPixelRatio","useCometTypeaheadGraphQLDataSource","useCometMediaViewerComposerMentionsNetworkDataSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useCometMediaViewerComposerMentionsNetworkDataSourceQuery.graphql");function a(a){var c=a.existingIDs,d=a.limit,e=a.mentionTypes,f=a.photoID;return b("useCometTypeaheadGraphQLDataSource")({gqlQuery:h,limit:d,normalize:i,queryVariablesBuilderFunction:function(a){a=a.query;return{count:d,existing_ids:c.map(function(a){return parseInt(a,10)}),photo_id:f,scale:b("WebPixelRatio").get(),search:a,types:e}}})}function i(a){a=a==null?void 0:a.comet_composer_typeahead_search;return a==null?[]:a.map(function(a){if(a==null)return;var c=a.node,d=a.score;if(d==null||c==null)return null;d=c==null?void 0:c.name;var e=c==null?void 0:c.id;c=c==null?void 0:(c=c.photo)==null?void 0:c.uri;return d==null||e==null||c==null?null:b("FeedComposerCometMentionsTypeaheadEntry").fromGraphql({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}}),null);
__d("useCometMediaViewerComposerMentionsNullstateDataSource",["CometRelay","FeedComposerCometMentionsTypeaheadEntry","WebPixelRatio","useCometTypeaheadGraphQLDataSource","useCometMediaViewerComposerMentionsNullstateDataSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useCometMediaViewerComposerMentionsNullstateDataSourceQuery.graphql");function a(a){var c=a.existingIDs,d=a.firstDegreeFinderOptions,e=a.limit,f=a.mentionTypes;return b("useCometTypeaheadGraphQLDataSource")({gqlQuery:h,limit:e,normalize:i,queryVariablesBuilderFunction:function(){return{existing_ids:c.map(function(a){return parseInt(a,10)}),options:d,scale:b("WebPixelRatio").get(),types:f}}})}function i(a){a=a==null?void 0:a.comet_composer_typeahead_bootload;return a==null?[]:a.map(function(a){return a==null?null:b("FeedComposerCometMentionsTypeaheadEntry").fromGraphql({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}}),null);
__d("useCometMediaViewerComposerMentionsDataSource",["useCometMediaViewerComposerMentionsBootstrapDataSource","useCometMediaViewerComposerMentionsNetworkDataSource","useCometMediaViewerComposerMentionsNullstateDataSource","useCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.config,d=a.existingIDs,e=a.limit;a=a.photoID;return b("useCometTypeaheadCompositeDataSource")({bootstrapDataSource:b("useCometMediaViewerComposerMentionsBootstrapDataSource")({existingIDs:d,firstDegreeFinderOptions:c.bootstrap.firstDegreeFinderOptions,limit:Math.floor(e/2),mentionTypes:c.bootstrap.mentionTypes,photoID:a}),limit:e,networkDataSource:b("useCometMediaViewerComposerMentionsNetworkDataSource")({existingIDs:d,limit:e,mentionTypes:c.network.mentionTypes,photoID:a}),nullstateDataSource:b("useCometMediaViewerComposerMentionsNullstateDataSource")({existingIDs:d,firstDegreeFinderOptions:["FRIENDS_ONLY"],limit:e,mentionTypes:["USER"]})})}}),null);
__d("useCometMediaViewerTaggingMentionsStrategyResolver",["CometRelay","React","createCometWithTagStrategy","useCometMediaViewerComposerMentionsDataSource","useCometMentionsStrategyResolver","useCometMediaViewerTaggingMentionsStrategyResolver_photo.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){c=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometMediaViewerTaggingMentionsStrategyResolver_photo.graphql"),c);c=c!=null?c==null?void 0:(c=c.tags)==null?void 0:c.edges.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean):[];var d=b("useCometMediaViewerComposerMentionsDataSource")({config:{bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user","group","event","page"]}},existingIDs:(c=c)!=null?c:[],limit:5,photoID:a});c=h.useMemo(function(){return[{dataSource:d,searchStrategy:b("createCometWithTagStrategy")({minMatchLength:0})}]},[d]);return b("useCometMentionsStrategyResolver")(c)}}),null);
__d("CometMediaViewerMentionsTypeaheadContextualLayer.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","React","cometSearchTypeaheadBaseKeyboardNavigationUtils","useCometSearchTypeaheadBaseDataSourceFetch"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a.dataSource,e=a.onHighlightEntry,f=a.onResultsLoaded,i=a.onSelectedEntry,j=a.query,k=a.showLoadingIndicator;k=k===void 0?!1:k;a=a.viewItemStrategyRenderer;var l=g.useState([]),m=l[0],n=l[1];l=g.useState(null);var o=l[0],p=l[1],q=g.useRef(null);l=b("useCometSearchTypeaheadBaseDataSourceFetch")({dataSource:d,onResolvePayload:g.useCallback(function(a){a=a.entries;return n(a)},[])});d=l[0].isLoading;var r=l[1];g.useEffect(function(){r({query:j})},[r,j]);g.useImperativeHandle(c,function(){return{getNode:function(){return q.current},hasSelection:function(){return h(m,o)},moveDown:function(){b("cometSearchTypeaheadBaseKeyboardNavigationUtils").moveDown(m,o!=null?o.getKey():null,p)},moveUp:function(){b("cometSearchTypeaheadBaseKeyboardNavigationUtils").moveUp(m,o!=null?o.getKey():null,p)},select:function(){i&&o!=null&&h(m,o)&&i(o,j)}}},[o,i,j,m]);l=g.useCallback(function(a){e&&e(a);p((a=a)!=null?a:null)},[e]);c=g.useCallback(function(a){h(m,a)&&(i&&i(a,j))},[m,i,j]);g.useEffect(function(){!h(m,o)&&m.length>0&&p(m[0])},[m,o]);g.useEffect(function(){f&&f()},[f,m]);if(m.length>0||k)return g.jsx("div",{ref:q,children:g.jsx(b("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),{entries:m,highlightedEntry:o,isLoading:k&&d,onHighlightEntry:l,onPressEntry:c,queryString:j,viewItemStrategyRenderer:a})});else if(m.length===0&&!d)return g.jsx("div",{children:g.jsx(b("CometMediaViewerMentionsTypeaheadEmptyState.react"),{})});return null}function h(a,b){if(b==null)return!1;var c=b.getKey();return a.find(function(a){return a.getKey()===c})!=null}c=g.forwardRef(a);e.exports=c}),null);
__d("CometMediaViewerMentionsTypeaheadListItem.react",["CometImageIcon.react","CometSearchMentionsBaseViewItem.react","React","TetraText.react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=c.getLabel(),e=c.getPhotoURI(),f=null;e==null?b("recoverableViolation")("No profile picture found for mentions entry","comet_composer"):f=g.jsx(b("CometImageIcon.react"),{size:20,src:e,style:"circle"});return g.jsx(b("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:c,children:g.jsxs("div",{className:"jnigpg78 j83agx80 bp9cbjyn",children:[f,g.jsx("div",{className:"ni8dbmo4 ozuftl9m datstx6m j83agx80 bp9cbjyn",children:g.jsx(b("TetraText.react"),{numberOfLines:1,type:"body3",children:d})})]})}))}}),null);
__d("ProductTagPhotoEditorProductSuggestionHighConfidenceImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_product_suggestion_high_confidence_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ProductTagPhotoEditorProductSuggestionLowConfidenceImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_product_suggestion_low_confidence_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ProductTagPhotoEditorSuggestionDefineLowConfidenceProductClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_suggestion_define_low_confidence_product_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ProductTagPhotoEditorSuggestionRemoveProductClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_suggestion_remove_product_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoViewer_photo",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:b,storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometPhotoViewer_photo",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'},{args:null,kind:"FragmentSpread",name:"CometRemote360PhotoViewer_photo"},{args:null,kind:"FragmentSpread",name:"CometRemote3DPhotoViewer_photo"},{kind:"InlineDataFragmentSpread",name:"CometAIProductTagSuggestionsUtil_photo",selections:[a,{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoViewerResponsiveInnerWrapper.react",["CometRouteRenderType","React","stylex"],(function(a,b,c,d,e,f){"use strict";f.useCometPhotoViewerContainerStyles=j;var g,h=b("React"),i={backgroundContainerDialog:{"@media (max-width: 899px)":{height:"nos9j3a5"}},backgroundContainerDialogWithFooter:{height:"n626y76b","@media (max-width: 899px)":{height:"aessy0lw"}},backgroundContainerResponsive:{alignItems:"bp9cbjyn",display:"j83agx80",position:"l9j0dhe7","@media (max-width: 899px)":{height:"spskuzq3"}},backgroundContainerTabs:{height:"bkyfam09","@media (max-width: 899px)":{height:"pw8zj2ei"}},backgroundContainerTabsWithFooter:{height:"bekozo2m","@media (max-width: 899px)":{height:"f6tgzqhp"}},image:{maxWidth:"d2edcug0","@media (max-width: 899px)":{maxHeight:"r9f5tntg"}},maxImageHeightDialog:{maxHeight:"ji94ytn4","@media (max-width: 899px)":{maxHeight:"bnxxjg7g"}},maxImageHeightDialogWithFooter:{maxHeight:"nskh8ow2","@media (max-width: 899px)":{maxHeight:"dx5evmzu"}},maxImageHeightTabs:{maxHeight:"gitj76qy","@media (max-width: 899px)":{maxHeight:"bnxxjg7g"}},maxImageHeightTabsWithFooter:{maxHeight:"kgqd366c","@media (max-width: 899px)":{maxHeight:"a7lra598"}},passthroughImage:{backgroundPosition:"d2hbt3d9",backgroundRepeat:"qb00l2mb",backgroundSize:"gj6al65z",height:"datstx6m",width:"k4urcfbm"},photoWrapperPlaceholder:{height:"datstx6m",width:"k4urcfbm"},photoWrapperResponsive:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",position:"l9j0dhe7"},placeholderContainer:{height:"datstx6m",width:"k4urcfbm"}};function j(a,c){a===void 0&&(a=!1);c===void 0&&(c=!1);var d=b("CometRouteRenderType").useIsPushView();return(g||(g=b("stylex")))(i.backgroundContainerResponsive,!a&&d&&i.backgroundContainerDialog,!a&&!d&&i.backgroundContainerTabs,a&&d&&i.backgroundContainerDialogWithFooter,a&&!d&&i.backgroundContainerTabsWithFooter,c&&i.placeholderContainer)}function k(a,c){var d=b("CometRouteRenderType").useIsPushView();return(g||(g=b("stylex")))(!a&&d?i.maxImageHeightDialog:null,!a&&!d?i.maxImageHeightTabs:null,a&&d?i.maxImageHeightDialogWithFooter:null,a&&!d?i.maxImageHeightTabsWithFooter:null,c?i.passthroughImage:null,c?null:i.image)}function l(a,c){var d=b("CometRouteRenderType").useIsPushView();return[!a&&d&&i.maxImageHeightDialog,!a&&!d&&i.maxImageHeightTabs,a&&d&&i.maxImageHeightDialogWithFooter,a&&!d&&i.maxImageHeightTabsWithFooter,c&&i.passthroughImage,!c&&i.image]}function a(a,c){var d=a.height,e=a.imageUri,f=a.showPlaceholderImage;f=f===void 0?!0:f;var l=a.width;a=a.withFooter;a=a===void 0?!1:a;a=k(a,!0);var m=j(!1,!0);return h.jsx("div",{className:m,ref:(m=c)!=null?m:null,children:e!=null&&f&&h.jsx("div",{className:(g||(g=b("stylex")))(i.photoWrapperResponsive,i.photoWrapperPlaceholder),children:h.jsx("div",{className:a,style:d!=null&&l!=null?{backgroundImage:"url("+e+")",maxHeight:d,maxWidth:l}:{backgroundImage:"url("+e+")"}},e)})})}function c(a,c){var d=a.imageComponent,e=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var f=k(a,!1);a=l(a,!1);return h.jsx("div",{className:(g||(g=b("stylex")))(i.photoWrapperResponsive),ref:c,children:d!=null?d(f):e!=null?e(a):null})}d=h.forwardRef(c);f.CometPhotoViewerImageWrapper=d;e=h.forwardRef(a);f.CometPhotoViewerPlaceholderWrapper=e}),null);
__d("NumAiSuggestionsBubbleImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","num_ai_suggestions_bubble_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ProductTagPhotoViewerDoneClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_viewer_done_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ProductTagPhotoViewerIconClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_viewer_icon_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometPhotoViewer.react",["ix","fbt","Actor","CometAIProductTagSuggestionsUtil.react","CometFeedAttachmentOverlayContext","CometFullScreen","CometHero.react","CometImage.react","CometMediaViewerStage.react","CometPagelet.react","CometPhotoTaggingConstants","CometPhotoViewerImageSuspense","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPlaceholder.react","CometRelay","CometRouteParams","CometRouteRenderType","CometRow.react","CometRowItem.react","CometTheme.react","CometTooltip.react","CometTrackingNodeProvider.react","CometVisualCompletionAttributes","React","TetraButton.react","TetraIcon.react","TetraText.react","WebSession","fbicon","gkx","qex","recoverableViolation","requireCond","requireDeferred","stylex","useCometCallout","useCurrentRoute","useMediaViewerVPVDLogger","useMergeRefs","useStoryViewabilityLogger","cr:1707937","cr:1707930","cr:1685690","cr:1685691","CometPhotoViewer_photo.graphql","NumAiSuggestionsBubbleImpressionFalcoEvent","ProductTagPhotoViewerDoneClickFalcoEvent","ProductTagPhotoViewerIconClickFalcoEvent"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React"),l=b("requireDeferred")("CometMediaTagFalcoEvent"),m={aiProductTagBadge:{display:"j83agx80",end:"n7fi1qx3",position:"pmk7jnqg",top:"kr520xx4",zIndex:"tkr6xdv7"},container:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",position:"l9j0dhe7"},iconButtons:{end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",top:"kr520xx4",zIndex:"tkr6xdv7"},noPointerEvents:{pointerEvents:"hzruof5a"},peopleTagInstructionText:{paddingBottom:"ihqw7lf3"},productTagCallout:{maxWidth:"gtvx26ai"},productTagInstructions:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"btwxx1t3"},tagDoneDiv:{pointerEvents:"oqq733wu"},tagInstruction:{position:"pmk7jnqg",start:"kfkz5moi",transform:"cj5g2342"},tagInstructionRow:{alignItems:"aovydwv3",backgroundImage:"kpb67iw4",bottom:"i09qtzwb",display:"j83agx80",height:"fdipuqhw",justifyContent:"taijpn5t",paddingBottom:"jfpizvyy",pointerEvents:"hzruof5a",position:"pmk7jnqg",width:"k4urcfbm"},tagInstructionText:{alignItems:"bp9cbjyn",display:"j83agx80",paddingEnd:"rv4hoivh"},tagLayer:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"}};function n(a){return(a||[]).some(function(a){a=a.projection_type;return a==="tiled_cubemap"})}function o(a){return(a||[]).some(function(a){a=a.projection_type;return a==="three_d"})}var p=i!==void 0?i:i=b("CometPhotoViewer_photo.graphql");function a(a){var c,d,e,f,i,q,r,s,t=k.useContext(b("CometPhotoViewerViewStateDispatcherContext")),u=k.useContext(b("CometPhotoViewerViewStateContext")),v=b("Actor").useActor(),w=v[0];v[1];v=a.origHeight;var x=a.origSrc,y=a.origWidth,z=a.photo,A=a.photoTagLayerQueryReference,B=a.showTag,C=a.storyRenderLocation,D=babelHelpers.objectWithoutPropertiesLoose(a,["origHeight","origSrc","origWidth","photo","photoTagLayerQueryReference","showTag","storyRenderLocation"]),E=b("CometRelay").useFragment(p,z);z=k.useCallback(function(){t({tagModeEnabled:!1,type:"SET_TAG_MODE_ENABLED"}),t({isProductTagging:!1,type:"SET_IS_PRODUCT_TAGGING"})},[t]);var F=E==null?void 0:(c=E.image)==null?void 0:c.uri,G=E==null?void 0:E.id,H=E==null?void 0:(c=E.owner)==null?void 0:c.id;c=(c=E==null?void 0:(c=E.tags)==null?void 0:c.edges)!=null?c:[];var I=k.useRef(new Set(c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name}))),J=E==null?void 0:E.created_time,K=E==null?void 0:(c=E.container_story)==null?void 0:c.post_id,L=E==null?void 0:(c=E.container_story)==null?void 0:c.id;c=(E==null?void 0:E.can_viewer_add_tags)===!0;var M=E==null?void 0:(d=E.cix_screen)==null?void 0:d.view_model;d=k.useMemo(function(){return{authorId:H,createdTime:J,fbid:G,source:6,storyContainerId:K}},[H,J,G,K]);d=b("useMediaViewerVPVDLogger")(d);var N=d[0],O=d[1];d=E==null?void 0:(d=E.container_story)==null?void 0:d.encrypted_tracking;e=E==null?void 0:(e=E.container_story)==null?void 0:e.viewability_config;f=(f=E==null?void 0:E.container_story)!=null?f:{};f=f.client_view_config;f={can_delay_log_impression:f==null?void 0:f.can_delay_log_impression,use_banzai_signal_imp:f==null?void 0:f.use_banzai_signal_imp,use_banzai_vital_imp:f==null?void 0:f.use_banzai_vital_imp};f=b("useStoryViewabilityLogger")({clientViewConfig:f,disabledViewabilityEventTypes:[5],encryptedTracking:d,position:0,viewabilityConfig:e});d=f.ref;e=k.useState(b("CometFullScreen").isFullScreen());var P=e[0],Q=e[1];f=b("useMergeRefs")(N,d);e=b("CometPhotoViewerResponsiveInnerWrapper.react").useCometPhotoViewerContainerStyles();var R=b("CometFeedAttachmentOverlayContext").useIsOverlayShown();N=k.useCallback(function(){if(!P){var a=document.documentElement;a!=null&&(b("CometFullScreen").requestFullScreen(a),Q(!0))}else b("CometFullScreen").exitFullScreen(),Q(!1)},[P]);d=b("CometAIProductTagSuggestionsUtil.react").getUntaggedKnownTags(E,u.knownAITags);var S=b("CometAIProductTagSuggestionsUtil.react").getUntaggedUnknownTags(E,u.unknownAITags),T=d.length+S.length,U=k.useRef(function(){b("NumAiSuggestionsBubbleImpressionFalcoEvent").log(function(){var a;return{creator_id:E==null?void 0:(a=E.owner)==null?void 0:a.page_id,media_id:G,media_type:"photo",platform:"comet",referral_source:"post_viewer"}})});k.useEffect(function(){T>0&&(U.current&&U.current())},[T]);d=function(){var a;t({tagModeEnabled:!1,type:"SET_TAG_MODE_ENABLED"});t({isProductTagging:!1,type:"SET_IS_PRODUCT_TAGGING"});if(G==null){b("recoverableViolation")("photo id can not be null","comet_feed");return}a=(a=E==null?void 0:(a=E.tags)==null?void 0:a.edges)!=null?a:[];a=a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name});var c=b("WebSession").getId(),d=I.current.size?a.filter(function(a){return!I.current.has(a)}):a;V?b("ProductTagPhotoViewerDoneClickFalcoEvent").log(function(){return{container_post_id:K,creator_id:w,media_id:G,media_type:"photo",platform:"comet",referral_source:"post_viewer"}}):l.onReady(function(a){a.log(function(){return{media_fbid:G,num_users_tagged:d.length,session_id:c}})});I.current=new Set(a)};S=Boolean(E==null?void 0:(S=E.tags)==null?void 0:S.edges.some(function(a){return!(a==null?void 0:(a=a.tag)==null?void 0:a.is_product_tag)}));i=((E==null?void 0:(i=E.photo_product_tags)==null?void 0:i.length)||0)>0;q=(E==null?void 0:(q=E.owner)==null?void 0:q.has_taggable_products)===!0&&Boolean(E==null?void 0:(q=E.owner)==null?void 0:q.is_viewer_admin);r=q&&Boolean((E==null?void 0:(r=E.owner)==null?void 0:r.page_id)!=null)&&Boolean(w===(E==null?void 0:(r=E.owner)==null?void 0:r.page_id));i=S||!i&&!S&&!q;var V=r&&!S;q=h._("You can tag products from your catalogue to make it easier for people to shop from your posts.");r={align:"end",arrowStyle:"edge",label:q,position:"below",type:"accent",xstyle:m.productTagCallout};S=b("CometRouteParams").useRouteParams();q=b("useCurrentRoute")();q=(q=q==null?void 0:q.transparent)!=null?q:!1;var W=S.aymt_channel!==null,X=null;S.aymt_channel==="AYMTNotificationChannel"?X="aymt_retro_tag_jewel":S.aymt_channel==="AYMTEmailChannel"?X="aymt_retro_tag_email":(S.aymt_channel==="AYMTPageAdminMegaphoneV2Channel"||S.aymt_channel==="AYMTPageAdminMegaphoneChannel")&&(X="aymt_retro_tag_megaphone");S=k.useState(V&&W);var Y=S[0],Z=S[1];S=b("useCometCallout")(r,Y);r=b("CometRouteRenderType").useIsPushView();Y=k.useMemo(function(){var a,c;a=E==null?void 0:(a=E.image)==null?void 0:a.width;c=E==null?void 0:(c=E.image)==null?void 0:c.height;if(E==null||F==null||a==null||c==null)return null;c=k.jsx(b("CometImage.react"),{height:c,src:F,width:a},F);if(b("cr:1685690")!=null&&b("gkx")("1680758")&&n(E==null?void 0:E.immersive_photo_encodings))return k.jsx(b("cr:1685690"),{fallback:c,photo:E});else if(b("cr:1685691")!=null&&b("gkx")("1680759")&&o(E==null?void 0:E.immersive_photo_encodings))return k.jsx(b("cr:1685691"),{fallback:c,photo:E})},[F,E]);if(F==null){b("recoverableViolation")("Error loading media. More investigation is needed, might be an invalid photo, a special type of MediaSet, or something else.","comet_ui");return h._("No valid photo to display.")}s=!q||!r?(s=x)!=null?s:F:null;s=s!=null&&s!==""?{backgroundSrc:s}:null;var $=P?h._("Exit full-screen"):h._("Enter full-screen");x=k.jsx(b("CometPagelet.react").Placeholder,{className:e,fallback:x!=null?k.jsx(b("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:v,imageUri:x,ref:f,showPlaceholderImage:x!=null&&y!=null&&v!=null&&!R,width:y}):k.jsx("div",{className:e,ref:f,children:k.jsx(b("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){return k.jsxs(k.Fragment,{children:[O,!R&&k.jsx(b("CometImage.react"),{src:F,testid:void 0,xstyle:a},F)]})}})}),name:"MediaViewerPhoto",pageletType:"media",ref:f,children:Y!=null?Y:k.jsx(b("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){return k.jsxs(k.Fragment,{children:[O,k.jsx(b("CometHero.react"),{description:"MainPhoto"}),k.jsx(b("CometPhotoViewerImageSuspense"),{className:a,"data-testid":void 0,src:F},F),M!=null&&k.jsx(b("CometRelay").MatchContainer,{match:M,props:{alwaysShowDetails:!0,contentID:G,data:M,isFullScreenMediaPlayerStyle:!0,mediaUri:F,storyID:L,surface:"photo_viewer"}}),B!==null&&A!=null?k.jsx(b("CometPlaceholder.react"),{fallback:null,children:k.jsx("div",babelHelpers["extends"]({},b("CometVisualCompletionAttributes").IGNORE,{className:(j||(j=b("stylex")))(m.tagLayer,u.tagModeEnabled?null:m.noPointerEvents),children:k.jsx(B,{isTaggingProducts:u.isProductTagging,photoTagLayerQueryReference:A,tagBoxSize:b("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,tagModeEnabled:u.tagModeEnabled})}))}):null]})}})},F);v=u.isProductTagging?(j||(j=b("stylex")))(m.productTagInstructions):(j||(j=b("stylex")))(m.tagInstruction);y=u.isProductTagging?h._("Click on the photo to start tagging products"):h._("Click on the photo to start tagging");e=B!==null&&A!=null&&c===!0&&!Y;f=null;V?f=k.jsxs(b("CometRowItem.react"),{children:[b("cr:1707930")&&k.jsx(b("cr:1707930"),{photoID:G}),k.jsxs(b("CometTooltip.react"),{position:"below",tooltip:T>0&&b("qex")._("1707804")?h._("See Suggested Product Tags"):h._("Tag product"),children:[T!==0&&k.jsx("div",{className:(j||(j=b("stylex")))(m.aiProductTagBadge),children:b("cr:1707937")!=null&&k.jsx(b("cr:1707937"),{color:"blue",value:T})}),k.jsx(b("TetraIcon.react"),{"aria-label":h._("Tag product"),color:"white",hideHoverOverlay:!0,icon:b("fbicon")._(g("1649781"),32),onPress:function(){b("ProductTagPhotoViewerIconClickFalcoEvent").log(function(){return{container_post_id:K,creator_id:H,media_id:G,media_type:"photo",platform:"comet",referral_code:W?X:null,referral_source:"post_viewer"}}),t({tagModeEnabled:!0,type:"SET_TAG_MODE_ENABLED"}),t({isProductTagging:!0,type:"SET_IS_PRODUCT_TAGGING"}),Z(!1)},ref:S})]})]}):i&&(f=k.jsx(b("CometRowItem.react"),{children:k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:140,children:k.jsx(b("CometTooltip.react"),{position:"below",tooltip:h._("Tag photo"),children:k.jsx(b("TetraIcon.react"),{"aria-label":b("gkx")("1224637")?h._("tag colleagues"):h._("Tag Friends"),color:"white",hideHoverOverlay:!0,icon:b("fbicon")._(g("674580"),32),onPress:function(){t({tagModeEnabled:!0,type:"SET_TAG_MODE_ENABLED"})},testid:void 0})})})}));return k.jsxs("div",{className:(j||(j=b("stylex")))(m.container),"data-testid":void 0,children:[k.jsx(b("CometMediaViewerStage.react"),babelHelpers["extends"]({},s,{backgroundColor:q&&r?"dark":"default",initialTracePolicy:a.initialTracePolicy,onNavigatePhoto:z,storyRenderLocation:C,subOrigin:a.subOrigin},D,{children:x})),R?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.iconButtons),children:k.jsxs(b("CometRow.react"),{align:"end",children:[e&&!u.tagModeEnabled&&!u.isProductTagging?f:null,k.jsx(b("CometRowItem.react"),{children:k.jsx(b("CometTooltip.react"),{position:"below",tooltip:$,children:k.jsx(b("TetraIcon.react"),{"aria-label":$,color:"white",hideHoverOverlay:!0,icon:P?b("fbicon")._(g("1250223"),32):b("fbicon")._(g("1250245"),32),onPress:N,size:32})})})]})}),e&&u.tagModeEnabled?k.jsx(b("CometTheme.react"),{className:(j||(j=b("stylex")))(m.tagInstructionRow),element:"div",theme:"dark",children:k.jsxs("div",{className:v,children:[k.jsx("div",{className:(j||(j=b("stylex")))(m.tagInstructionText),children:k.jsx("div",{className:(E==null?void 0:(c=E.owner)==null?void 0:c.has_taggable_products)!==!0?(j||(j=b("stylex")))(m.peopleTagInstructionText):null,children:k.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"headline4",children:y})})}),k.jsx("div",{className:(j||(j=b("stylex")))(m.tagDoneDiv),children:k.jsx(b("TetraButton.react"),{label:h._("Finished tagging"),onPress:d,type:"primary"})})]})}):null]})}}),null);
__d("TahoeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setChainDepth=function(a){this.$1.chain_depth=a;return this};c.setChainingContextIdentifier=function(a){this.$1.chaining_context_identifier=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsAutoplaying=function(a){this.$1.is_autoplaying=a;return this};c.setMediaID=function(a){this.$1.media_id=a;return this};c.setUpNextMediaID=function(a){this.$1.up_next_media_id=a;return this};c.setUpNextPosition=function(a){this.$1.up_next_position=a;return this};return a}();c={chain_depth:!0,chaining_context_identifier:!0,event:!0,is_autoplaying:!0,media_id:!0,up_next_media_id:!0,up_next_position:!0};e.exports=a}),null);
__d("MWChatForceCollapseTabs.bs",["bs_block","React","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,b("bs_block").__(5,[a]));else return 0},[d,c])}f.useHook=a}),null);
__d("MWChatForceCollapseTabs.re",["MWChatForceCollapseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWChatForceCollapseTabs.bs").useHook;f.useHook=a}),null);
__d("MWChatUndoForceCollapseTabs.bs",["bs_block","React","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,b("bs_block").__(6,[a]));else return 0},[d,c])}f.useHook=a}),null);
__d("MWChatUndoForceCollapseTabs.re",["MWChatUndoForceCollapseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWChatUndoForceCollapseTabs.bs").useHook;f.useHook=a}),null);
__d("useToggleChatTabsOnMountUnmount",["CometRouteRenderType","MWChatForceCollapseTabs.re","MWChatUndoForceCollapseTabs.re","React","useShouldShowMessagingEntrypointOnCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("useShouldShowMessagingEntrypointOnCurrentRoute")("CHAT"),c=b("CometRouteRenderType").useIsPushView(),d=b("MWChatForceCollapseTabs.re").useHook(),e=b("MWChatUndoForceCollapseTabs.re").useHook();g.useEffect(function(){a&&d(c);return function(){a&&e(c)}},[a,c,d,e])}}),null);
__d("CometRightRailContentArea.react",["CometRouteRenderType","CometScrollView.react","CometSection.react","HiddenSubtreeContextProvider.react","MWChatOnMediaVisibilityOverrideContext","React","gkx","stylex","useMWIsCurrentRouteMediaViewerExperiment","useShouldShowMessagingEntrypointOnCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("gkx")("708253"),j={alignContentCenter:{alignItems:"bp9cbjyn"},alignContentStretch:{alignItems:"gs1a9yip"},chatSliver:{backgroundColor:"cwj9ozl2",boxShadow:"r28pvxcy",display:"j83agx80",end:"n7fi1qx3",height:"datstx6m",position:"poy2od1o",top:"be9z9djy",width:"etr7akla"},content:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minWidth:"nnvw5wor"},contentArea:{display:"j83agx80",minHeight:"dp1hu0rb"},contentCentered:{justifyContent:"taijpn5t"},contentContainer:{display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0"},rightRail:{backgroundColor:"hybvsw6c",display:"j83agx80",flexShrink:"pfnyh3mw",minHeight:"dp1hu0rb",position:"l9j0dhe7"},rightRailContainer:{backgroundColor:"hybvsw6c",display:"j83agx80",end:"n7fi1qx3",flexDirection:"cbu4d94t",maxHeight:"pad24vr5",position:"poy2od1o",width:"iyyx5f41","@media (max-width: 719px)":{position:"ap132fyt"}},rightRailContainerHeight:{minHeight:"pphwfc2g",top:"be9z9djy"},rightRailContainerHeightBlue:{minHeight:"svhzetay",top:"t38bcc6f"},rightRailContainerPushViewHeader:{boxShadow:"roauwr9f",end:"n7fi1qx3",height:"byvelhso",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},rightRailContainerWithShadow:{boxSizing:"cjfnh4rs",paddingStart:"e9o6kcyi"},rightRailHidden:{display:"mkhogb32"},rightRailShadow:{backgroundColor:"qsy8amke",backgroundImage:"l50q4up1",backgroundRepeat:"sl8jk4me",backgroundSize:"hvce7xua",bottom:"i09qtzwb",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"m7io0qpo"}},k={360:{width:"o36gj0jk"},400:{width:"gwi2wbwd"},440:{width:"a5uo0l2v"},480:{width:"g8tomnu4"},520:{width:"rl6uu45y"}};function a(a){var c=a.alignContent;c=c===void 0?"center":c;var d=a.children,e=a.hasShadow;e=e===void 0?!0:e;var f=a.rightRail,l=a.rightRailHidden;l=l===void 0?!1:l;var m=a.rightRailWidth;m=m===void 0?360:m;var n=a.showsVerticalScrollIndicator;n=n===void 0?!0:n;a=a.verticalAlign;a=a===void 0?"top":a;var o=b("CometRouteRenderType").useIsPushView(),p=b("useShouldShowMessagingEntrypointOnCurrentRoute")("CHAT"),q=b("useMWIsCurrentRouteMediaViewerExperiment")();q=b("MWChatOnMediaVisibilityOverrideContext").useMWChatOnMediaVisibilityOverride(q);q=q.isChatVisible;p=p&&q;return h.jsxs("div",{className:(g||(g=b("stylex")))(j.contentArea),children:[h.jsx(b("CometSection.react"),{className:g(j.content,c==="center"?j.alignContentCenter:null,c==="stretch"?j.alignContentStretch:null,a==="middle"?j.contentCentered:null),role:"main",children:h.jsx("div",{className:g(j.contentContainer),children:d})}),h.jsxs(b("CometSection.react"),{className:g(j.rightRail,k[p?String(Number(m)+80):m],l&&j.rightRailHidden),role:"complementary",children:[h.jsx(b("HiddenSubtreeContextProvider.react"),{isHidden:l,children:h.jsxs("div",{className:g(j.rightRailContainer,i?j.rightRailContainerHeight:null,i?null:j.rightRailContainerHeightBlue,e?j.rightRailContainerWithShadow:null),children:[h.jsx(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:n,xstyle:k[m],children:f}),e&&h.jsx("div",{className:(g||(g=b("stylex")))(j.rightRailShadow)})]})}),p?h.jsx("div",{className:(g||(g=b("stylex")))(j.chatSliver)}):null,o&&h.jsx("div",{className:(g||(g=b("stylex")))(j.rightRailContainerPushViewHeader),children:e&&h.jsx("div",{className:(g||(g=b("stylex")))(j.rightRailShadow)})})]})]})}}),null);
__d("LongtaskObserver",["performanceNow"],(function(a,b,c,d,e,f){"use strict";f.getCurrentLongtaskAPI=a;f.observeLongtask=c;var g,h=200,i=new Set(),j=typeof ((d=window.PerformanceObserver)==null?void 0:(e=d.supportedEntryTypes)==null?void 0:e.includes)==="function"&&window.PerformanceObserver.supportedEntryTypes.includes("longtask");function a(){return{addLongtask:function(a,b){i.forEach(function(c){c.addLongtask({duration:a,startTime:b})})}}}function c(a){a===void 0&&(a=(g||(g=b("performanceNow")))());if(!j)return null;var c=[],d={annotation:{},annotationInt:{longtaskCount:0},endTime:null,list:[],markerPoints:{},startTime:a},e=new window.PerformanceObserver(function(a){a=a.getEntries();a.forEach(function(a){f.addLongtask({duration:a.duration,startTime:a.startTime})})}),f={addAnnotation:function(a,b){d.annotation[a]=b},addAnnotationInt:function(a,b){d.annotationInt[a]=b},addLongtask:function(a){d.list.push(a)},addMarkerPoint:function(a,b){d.markerPoints[a]=b},endMeasure:function(){d.endTime=(g||(g=b("performanceNow")))();e.disconnect();f.addAnnotationInt("longtaskCount",d.list.length);if(d.list.length>0){var a=0,j=0,k=0;d.list.forEach(function(b){b.duration>=h&&k++,a+=b.duration,b.duration>j&&(j=b.duration)});f.addAnnotationInt("largeLongtaskCount",k);f.addAnnotationInt("maxLongtaskDuration",j);f.addAnnotationInt("avgLongtaskDuration",a/d.list.length)}c.forEach(function(a){a(d)});i["delete"](f);return d},getReport:function(){return d},onComplete:function(a){c.push(a)}};i.add(f);e.observe({entryTypes:["longtask"]});return f}}),null);
__d("CometLongtaskLogger",["LongtaskObserver","QuickPerformanceLogger","SiteData","performanceNavigationStart","performanceNow"],(function(a,b,c,d,e,f){"use strict";f.getCurrentLongtaskAPI=a;f.observeLongtask=c;var g,h=1,i=b("performanceNavigationStart")();function j(a){var c=h++;b("QuickPerformanceLogger").markerStart(101652143,c,a.startTime+i);for(var d in a.annotationInt){var e;b("QuickPerformanceLogger").markerAnnotate(101652143,{"int":(e={},e[d]=a.annotationInt[d],e)},{instanceKey:c})}for(var f in a.annotation){b("QuickPerformanceLogger").markerAnnotate(101652143,{string:(e={},e[f]=a.annotation[f],e)},{instanceKey:c})}for(var j in a.markerPoints)b("QuickPerformanceLogger").markerPoint(101652143,j,{instanceKey:c,timestamp:a.markerPoints[j]+i});b("QuickPerformanceLogger").markerEnd(101652143,2,c,((e=a.endTime)!=null?e:(g||(g=b("performanceNow")))())+i)}function a(){return b("LongtaskObserver").getCurrentLongtaskAPI()}function c(a){a===void 0&&(a=(g||(g=b("performanceNow")))());a=b("LongtaskObserver").observeLongtask(a);a&&(a.addAnnotationInt("client_revision",b("SiteData").client_revision),a.addAnnotation("client_push_phase",b("SiteData").push_phase),a.onComplete(function(a){j(a)}));return a}}),null);
__d("CometScrollPerfTracker",["CometEventListener","CometLongtaskLogger","CometNavigationTracing","clearTimeout","performanceNow","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f){"use strict";f.getReport=a;f.reportPaintDelayAfterScroll=c;f.init=d;var g,h=500,i=0,j=0,k=0,l=0,m=!1,n=0,o=0,p=0,q=0,r=null,s=null,t=null,u=0;function a(){return r}function v(){var a=(g||(g=b("performanceNow")))();t=null;m=!1;if(s==null)return;k=window.scrollX;l=window.scrollY;s.addAnnotationInt("finalScrollX",k);s.addAnnotationInt("finalScrollY",l);s.addAnnotationInt("initialScrollX",i);s.addAnnotationInt("initialScrollY",j);s.addAnnotationInt("scrollDuration",a-n);s.addAnnotationInt("scrollEventCount",q);s.addAnnotationInt("viewportHeight",window.innerHeight);s.addAnnotationInt("viewportWidth",window.viewportWidth);s.addMarkerPoint("firstScrollEvent",o);s.addMarkerPoint("lastScrollEvent",p);r=s.endMeasure();s=null;u=0}function c(a,b,c){s!=null&&a-p>100&&a-p>u&&(u=a-p,s.addMarkerPoint("delayedPaint",a),s.addAnnotationInt("paintDelay",u),s.addAnnotation("delayedPaintPagelet",b+"_"+c))}function d(){var a=function(a){if(a.target!==window.document)return;p=a.timeStamp;var c=b("CometNavigationTracing").getLastNavigation();if(!m&&c){var d=(g||(g=b("performanceNow")))();o=p;n=Math.min(a.timeStamp,d);q=0;m=!0;i=k;j=l;s=b("CometLongtaskLogger").observeLongtask(n);d-a.timeStamp>=50&&b("CometLongtaskLogger").getCurrentLongtaskAPI().addLongtask(d-a.timeStamp,a.timeStamp);s&&(s.addMarkerPoint("handlerStart",d),s.addAnnotation("traceType","SCROLL"),typeof c.metadata.tracePolicy==="string"&&s.addAnnotation("tracePolicy",c.metadata.tracePolicy),c.completed!=null&&s.addAnnotationInt("timeSinceLastNavigation",n-c.completed))}s&&(q++,t!=null&&b("clearTimeout")(t),t=b("setTimeoutCometLoggingPri")(v,h))};b("CometEventListener").captureWithPassiveFlag(window,"scroll",a,!0)}}),null);
__d("useLiveVideoCometInstreamRewardAlertDisplay",["createVideoStateHook"],(function(a,b,c,d,e,f){"use strict";a=b("createVideoStateHook").createVideoStateHook(null);c=a.setterHook;d=a.valueHook;e=c;f.useInstreamRewardAlertDisplayStateSetter=e;b=d;f.useInstreamRewardAlertDisplayStateValue=b}),null);
__d("validateTrackingCode",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a!=null&&typeof a==="object"&&a.click_tracking_linkshim_cb!=null&&a.encrypted_click_tracking!=null&&a.encrypted_tracking!=null?a:null}}),null);
__d("validateAggregatedStoryTrackingNodeIndex",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a!=null&&typeof a==="number"?a:0}}),null);
__d("validatePlayerSuborigin",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return typeof a==="string"?a:null}}),null);
__d("VideoSharingOptionClickedFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","video_sharing_option_clicked");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("VideoSharingOptionImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","video_sharing_option_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("VideoHomeShareUtils",["VideoSharingOptionClickedFalcoEvent","VideoSharingOptionImpressionFalcoEvent"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.player_origin,d=a.reaction_video_channel_type,e=a.video_player_format,f=babelHelpers["extends"]({},a,{player_origin:c==null?void 0:c.toString(),reaction_video_channel_type:d==null?void 0:d.toString(),video_player_format:e==null?void 0:e.toString()});b("VideoSharingOptionImpressionFalcoEvent").log(function(){return f})};f.logExternalShareOptionImpression=a;c=function(a){var c=a.player_origin,d=a.reaction_video_channel_type,e=a.video_player_format,f=babelHelpers["extends"]({},a,{player_origin:c==null?void 0:c.toString(),reaction_video_channel_type:d==null?void 0:d.toString(),video_player_format:e==null?void 0:e.toString()});b("VideoSharingOptionClickedFalcoEvent").log(function(){return f})};f.logExternalShareOptionClick=c}),null);
__d("VideoSharingPermalinkLandingFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","video_sharing_permalink_landing");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometVideoHomeShareUtils",["ConstUriUtils","VideoHomeShareUtils","VideoSharingPermalinkLandingFalcoEvent"],(function(a,b,c,d,e,f){"use strict";var g="extid";a=function(a){var c=b("ConstUriUtils").getUri(window.location.href),d=(c==null?void 0:c.getQueryParam(g))!=null;c!=null&&d&&h(babelHelpers["extends"]({},a,{url:c.toString()}))};var h=function(a){b("VideoSharingPermalinkLandingFalcoEvent").log(function(){return a})};e.exports={logExternalShareOptionClick:b("VideoHomeShareUtils").logExternalShareOptionClick,logExternalShareOptionImpression:b("VideoHomeShareUtils").logExternalShareOptionImpression,logPermalinkLandingFromSharing:h,logPermalinkLandingFromSharingIfQueryParamExists:a,sharingTrackingParam:g}}),null);
__d("useIsTouchDevice",["useMatchMedia"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return b("useMatchMedia")("(hover: none) and (pointer: coarse)")}}),null);
__d("BaseHScroll.react",["fbt","BaseAccessibleElement_DEPRECATED.react","BaseScrollableArea.react","CometPressable.react","CometTrackingNodeProvider.react","HiddenSubtreePassiveContext","Locale","React","debounce","recoverableViolation","stylex","useCometUniqueID","useIsTouchDevice","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={collapseMargins:{paddingBottom:"ojkyduve",paddingTop:"ggysqto6"},hidden:{opacity:"b5wmifdl"},hideHorizontalScrollbar:{marginBottom:"c8r2yrt7",paddingBottom:"dy7m38rt"},hideHorizontalScrollbarContainer:{overflowY:"stjgntxs"},itemsContainer:{display:"j83agx80",flexDirection:"btwxx1t3",flexWrap:"owycx6da"},peekMask:{bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",height:"datstx6m",opacity:"pedkr2u6",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",transitionDuration:"kmdw4o4n",transitionProperty:"art1omkt",transitionTimingFunction:"heur4gxb",width:"k4urcfbm",zIndex:"tkr6xdv7"},peekMaskButton:{backgroundColor:"g5ia77u1",borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",color:"gmql0nx0",cursor:"nhd2j8a9",display:"a8c37x1j",fontFamily:"ihxqhq3m",fontSize:"l94mrbxd",lineHeight:"aenfhxwr",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",textAlign:"i1ao9s8h",textDecoration:"myohyog2",width:"k4urcfbm",":hover":{color:"ksdfmwjs",textDecoration:"gofk2cf1"},":active":{transform:"tm8avpzi",transitionDuration:"q3fhxehl"}},positionRelative:{position:"l9j0dhe7"},root:{display:"j83agx80",flexDirection:"btwxx1t3",overflowY:"stjgntxs"},rootWrapper:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"du4w35lb"},scrollAnimation:{transitionDuration:"kmdw4o4n",transitionProperty:"flx89l3n",transitionTimingFunction:"heur4gxb"}},k=250;function a(a){var c=a.accessibilityLabel,d=a.children,e=a.extendVisibilityBottom,f=a.extendVisibilityTop,l=a.horizontalSnapPadding;l=l===void 0?0:l;var m=a.horizontalSpacing,n=m===void 0?0:m;m=a.itemsToScroll;var o=m===void 0?1:m;m=a.leftArrow;var p=a.onIndexChange,q=a.peekMask,r=a.rightArrow,s=a.scrollType,t=a.snapPosition;t=t===void 0?"start":t;var u=a.startIndex;a=a.testid;u!=null&&(u<0||u>=i.Children.toArray(d).length)&&b("recoverableViolation")("The start index is not valid","comet_ui");var v=b("Locale").isRTL(),w=q!=null,x=i.useRef(null),y=i.useRef(null);a=i.useState(0);var z=a[0],A=a[1];a=i.useState(0);var B=a[0],C=a[1];a=i.useState(0);var D=a[0],E=a[1];a=i.useState(!1);var F=a[0],G=a[1];i.useEffect(function(){u!=null&&A(u)},[u]);a=i.useState(!1);var H=a[0],I=a[1];a=i.useCallback(function(){return w&&G(!0)},[w]);var J=i.useCallback(function(){return w&&G(!1)},[w]),K=b("useIsTouchDevice")(),L=s==="touch"||s==="auto"&&K;s=i.useCallback(function(a){a!=null&&C(a.offsetWidth),y.current=a},[]);var M=i.useContext(b("HiddenSubtreePassiveContext")),N=i.useCallback(b("debounce")(function(a){return a!=null&&!M.getCurrentState().hidden&&E(a.width)},k),[]);i.useEffect(function(){return function(){return N.reset()}},[N]);var O=b("useResizeObserver")(N);K=i.useCallback(function(a){a!=null&&E(a.offsetWidth),O(a)},[O]);i.useLayoutEffect(function(){if(!L){var a=x.current&&x.current.getDOMNode();a!=null&&(v?a.scrollLeft=B:a.scrollLeft=0)}},[L,B,v]);i.useLayoutEffect(function(){var a;C((a=(a=y.current)==null?void 0:a.offsetWidth)!=null?a:0)});var P=i.Children.toArray(d).length,Q=B/P;t=t==="center"?D%Q/2:l;var R=Math.floor(D/Q),S=v?1:-1,T=0-l,U=B-D+l;Q=Math.max(Math.min(Q*z-t,U),T);var V=z>0,W=z<P-1&&Q<U,X=i.useCallback(function(a){A(a),p&&p(a)},[p,A]);t=i.useCallback(function(){H!==!0&&I(!0);var a=Math.max(z-o,0);X(a)},[H,z,o,X]);T=i.useCallback(function(){H!==!0&&I(!0);var a=W?Math.min(z+o,P-1):z;X(a)},[H,z,W,P,o,X]);U=v?W:V;var Y=v?V:W,Z=v?T:t,$=v?t:T;m=!L&&m!=null&&m(Z,U);Z=!L&&r!=null&&r($,Y);var aa=i.jsx("div",{className:(h||(h=b("stylex")))(j.peekMask,!F||!V?j.hidden:null),children:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:v?411:410,children:i.jsx(b("CometPressable.react"),{display:"inline",label:g._("Backwards arrow"),onPress:t,overlayDisabled:!0,xstyle:j.peekMaskButton,children:q})})}),ba=i.jsx("div",{className:h(j.peekMask,!F||!W?j.hidden:null),children:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:v?410:411,children:i.jsx(b("CometPressable.react"),{display:"inline",label:g._("Forwards arrow"),onPress:T,overlayDisabled:!0,xstyle:j.peekMaskButton,children:q})})});U=i.Children.toArray(d).map(function(a,c){return i.jsxs("li",{className:(h||(h=b("stylex")))(j.positionRelative),style:{marginLeft:n,marginRight:n},children:[a,w&&!L&&c<z&&V&&aa,w&&!L&&c>=z+R&&W&&ba]},a.key)});r=b("useCometUniqueID")();return i.jsxs("div",{className:h(j.rootWrapper,L?j.hideHorizontalScrollbarContainer:null),onMouseEnter:a,onMouseLeave:J,ref:K,children:[v&&Z,m,!v&&Z,i.jsx("div",{className:h(j.collapseMargins),children:i.jsx("div",{style:{marginBottom:-e-1,marginTop:-f-1},children:i.jsxs(b("BaseScrollableArea.react"),{"aria-labelledby":r,horizontal:L,ref:x,testid:void 0,vertical:!1,xstyle:[j.root,L&&j.hideHorizontalScrollbar],children:[i.jsx(b("BaseAccessibleElement_DEPRECATED.react"),{id:r,children:c}),i.jsx("ul",{className:h(j.itemsContainer,H?j.scrollAnimation:null,j.positionRelative),ref:s,style:{paddingBottom:e,paddingLeft:L?l:0,paddingRight:L?l:0,paddingTop:f,transform:D>0&&!L?"translateX("+S*Q+"px)":null},children:U})]})})})]})}}),null);
__d("BaseHScrollChild.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=a.children;a=a.width;return g.jsx("div",{className:"datstx6m",style:{width:a},children:b})}}),null);
__d("CometHScrollChild.react",["BaseHScrollChild.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx(b("BaseHScrollChild.react"),babelHelpers["extends"]({},a))}}),null);
__d("CometHScroll.react",["ix","fbt","BaseHScroll.react","CometAdPreviewContext","CometHScrollChild.react","CometTrackingNodeProvider.react","React","TetraCircleButton.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){var c=a.accessibilityLabel,d=a.arrowSize,e=d===void 0?48:d;d=a.children;var f=a.extendVisibilityBottom;f=f===void 0?16:f;var k=a.extendVisibilityTop;k=k===void 0?0:k;var l=a.horizontalSnapPadding,m=a.horizontalSpacing;m=m===void 0?0:m;var n=a.itemsToScroll,o=a.onIndexChange,p=a.peekMasking;p=p===void 0?!1:p;var q=a.scrollType;q=q===void 0?"auto":q;var r=a.snapPosition;a=a.startIndex;var s=b("CometAdPreviewContext").useCometAdPreviewContext(),t=j.jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn pmk7jnqg stjgntxs ni8dbmo4 l8rlqa9s datstx6m n7fi1qx3 rq0escxv i09qtzwb l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 ovq5dppa"}),u=32-e/2;return j.jsx(b("BaseHScroll.react"),{accessibilityLabel:c,extendVisibilityBottom:f,extendVisibilityTop:k,horizontalSnapPadding:l,horizontalSpacing:m,itemsToScroll:n,leftArrow:function(a,c){return j.jsx("div",{className:(i||(i=b("stylex"))).dedupe(s?{"pointer-events-1":"oqq733wu"}:{},{"border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","box-shadow-1":"fpf4h9qb","display-1":"a8c37x1j","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","top-1":"rk01pc8j","transform-0.1":"ke6wolob","transition-0.1":"d4ybr6tg","visibility-1":"n1dktuyu","z-index-1":"tkr6xdv7"},c?null:{"opacity-1":"b5wmifdl","visibility-1":"kr9hpln1"}),"data-testid":void 0,style:{left:u},children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:410,children:j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("492488"),20),label:h._("Left arrow"),onPress:a,size:e,type:"overlay"})})})},onIndexChange:o,peekMask:p?t:null,rightArrow:function(a,c){return j.jsx("div",{className:(i||(i=b("stylex"))).dedupe(s?{"pointer-events-1":"oqq733wu"}:{},{"border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","box-shadow-1":"fpf4h9qb","display-1":"a8c37x1j","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","top-1":"rk01pc8j","transform-0.1":"ke6wolob","transition-0.1":"d4ybr6tg","visibility-1":"n1dktuyu","z-index-1":"tkr6xdv7"},c?null:{"opacity-1":"b5wmifdl","visibility-1":"kr9hpln1"}),"data-testid":void 0,style:{right:u},children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:411,children:j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("492536"),20),label:h._("Right arrow"),onPress:a,size:e,type:"overlay"})})})},scrollType:q,snapPosition:r,startIndex:a,children:d})}}),null);
__d("useCometClickToMessageActionLink",["CometRelay","emptyFunction","requireDeferred","useMWChatOpenTabForPage"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("requireDeferred")("MWChatBusinessCTAAdsSenderMutation");function a(a,c,d,e,f){var h=b("useMWChatOpenTabForPage")("pages_cta"),i=b("CometRelay").useRelayEnvironment();return c==null?b("emptyFunction"):function(){h(c),g.onReady(function(b){return b.sendAds(i,{ad_id:a,page_id:c,photo_index:d,post_id:e,product_id:f})})}}}),null);
__d("CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},d=[b];return{kind:"SplitOperation",metadata:{},name:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{alias:"photo_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null},b,c],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[b,c],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"}]}}();e.exports=a}),null);
__d("CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};b=[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{alias:"photo_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometRemote3DPhotoViewer_photo"},{kind:"InlineDataFragmentSpread",name:"getCometMediaURL_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:b,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Video",abstractKey:null}]}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion"}],type:"StoryAttachment3DPhotoStyleRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometRemote3DPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometRemote3DPhotoViewer_photo",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("Comet3DPhotoLoadingOverlay.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=a.isVisible;return g.jsx("div",{className:"orwu60u2 e4zzj2sf art1omkt jowmb856 py2didcb rk01pc8j kfkz5moi pmk7jnqg hzruof5a rdkrh8wx"+(a?"":" b5wmifdl"),children:g.jsx("div",{})})}}),null);
__d("CometRemote3DPhotoViewer.react",["Comet3DPhotoLoadingOverlay.react","CometFeedStoryViewportMaxHeightMediaLayout.react","CometRelay","React","clearTimeout","recoverableViolation","requireCond","setTimeout","stylex","cr:1298198","CometRemote3DPhotoViewer_photo.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=b("React"),j=584,k={content:{height:"datstx6m",position:"l9j0dhe7"},image:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},overlays:{bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},photoContainer:{position:"l9j0dhe7"},root:{borderBottom:"linmgsc8",borderTop:"opwvks06",boxShadow:"g81y0s2s"}};function a(a){var c,d=a.fallback;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometRemote3DPhotoViewer_photo.graphql"),a.photo);var e=i.useState(!1),f=e[0],l=e[1];e=i.useState(!1);var m=e[0],n=e[1],o=i.useRef(null);i.useEffect(function(){o.current=b("setTimeout")(function(){n(!0)},2e3);return function(){o.current!=null&&b("clearTimeout")(o.current)}},[]);e=i.useCallback(function(){l(!0)},[l]);m=!m||!f;a=(f=a==null?void 0:a.immersive_photo_encodings)!=null?f:[];f=a.find(function(a){return(a==null?void 0:a.projection_type)==="three_d"});if(f==null){b("recoverableViolation")("3D photo does not have three_d encoding","comet_feed");return d}f=(a=f.binary_cdn_uri)!=null?a:"";a=(a=d.props.width)!=null?a:0;c=(c=d.props.height)!=null?c:0;(a===0||c===0)&&b("recoverableViolation")("null fallback size was provided for 3d photo","comet_feed");var p=a===0||c===0?{aspectRatio:1,height:1,width:1}:{aspectRatio:a/c,height:c,width:a};p=p.aspectRatio;var q=f!=null&&b("cr:1298198")!=null?i.jsxs("div",{className:(h||(h=b("stylex")))(k.photoContainer),children:[i.jsx(b("cr:1298198"),{fileURI:f,height:j/p,onLoad:e,width:j}),i.jsx("div",{className:(h||(h=b("stylex")))(k.overlays),children:i.jsx(b("Comet3DPhotoLoadingOverlay.react"),{isVisible:m})})]}):d;return i.jsx("div",{className:(h||(h=b("stylex")))(k.root),children:i.jsx(b("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:null,mediaHeight:c,mediaWidth:a,children:function(a){return i.jsx("div",{className:(h||(h=b("stylex")))(k.content,a),children:i.jsx("div",{className:h(k.image),children:q})})}})})}}),null);
__d("CometFeedStory3DPhotoAttachmentStyle.react",["CometImage.react","CometPressable.react","CometRelay","CometRemote3DPhotoViewer.react","React","getCometMediaURL","gkx","stylex","unrecoverableViolation","useCometFeedStoryAttachmentMatchDebugger","useWebGLContextVisibility","CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=b("React"),j={image:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},mediaPressed:{backgroundColor:"r9n4d945"},wrapper:{position:"l9j0dhe7",width:"k4urcfbm"}},k=b("gkx")("708253"),l=b("gkx")("1680759");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer.graphql"),a.styleTypeRenderer);b("useCometFeedStoryAttachmentMatchDebugger")(a);var c=i.useState(!1),d=c[0];c=c[1];c=b("useWebGLContextVisibility")(c,{rootMargin:{bottom:2e3,top:2e3}});a=a.attachment;var e=a==null?void 0:a.media;if(e==null)throw b("unrecoverableViolation")("media attachment cannot be null in CometFeedStory3DPhotoAttachment","comet_feed");var f=(a=(a=e.photo_image)==null?void 0:a.uri)!=null?a:"",m=(a=e.accessibility_caption)!=null?a:"",n=(a=(a=e.photo_image)==null?void 0:a.height)!=null?a:0,o=(a=(a=e.photo_image)==null?void 0:a.width)!=null?a:0,p=b("getCometMediaURL")(e,null),q=i.useMemo(function(){return i.jsx(b("CometImage.react"),{alt:m,height:n,src:f,width:o,xstyle:j.image})},[m,n,f,o]);a=i.useMemo(function(){var a=i.jsx(b("CometRemote3DPhotoViewer.react"),{fallback:q,photo:e});return l?i.jsx(b("CometPressable.react"),{hideHoverOverlay:!0,linkProps:{rel:k?void 0:"theater",url:p},overlayPressedStyle:j.mediaPressed,style:{display:"block"},children:a}):i.jsx(i.Fragment,{children:a})},[q,e,p]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.wrapper),ref:c,children:d?a:q})}}),null);
__d("CometNewsfeedKeyCommandWidget",["createKeyCommandWidget"],(function(a,b,c,d,e,f){"use strict";a=b("createKeyCommandWidget")();e.exports=a}),null);
__d("CometBlurredBackgroundImage.react",["CometBackgroundImage.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=!0;function a(a){a=h?g.jsx("div",{className:"cg1f0npj b6s8h9p6 oqujnh0m",children:g.jsx("span",{className:"id8f4lua",children:g.jsx(b("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})}):null;return g.jsx("div",{className:"k4urcfbm stjgntxs ni8dbmo4 taijpn5t datstx6m j83agx80 bp9cbjyn",children:a})}}),null);
__d("CometContentNotAvailable.react",["fbt","CometContentArea.react","NullStateGeneral","React","TetraNullState.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){return h.jsx("div",{className:"k4urcfbm taijpn5t bkyfam09 j83agx80 bp9cbjyn",children:h.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:h.jsx(b("TetraNullState.react"),{headline:g._("Sorry, this content isn't available at this time"),icon:b("NullStateGeneral")})})})}}),null);
__d("CometMediaViewerFilmstrip.react",["ix","fbt","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","Locale","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");c=36;d=6;var k=c+d*2,l={imageInner:{height:"datstx6m",objectFit:"r0294ipz",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"tv7at329",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",whiteSpace:"g0qnabr5"},thumbnail:{cursor:"nhd2j8a9",height:"tv7at329",width:"thwo4zme"},thumbnailContainer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"q9uorilb",flexShrink:"pfnyh3mw",height:"tv7at329",marginEnd:"fv0vnmcu",marginStart:"ggphbty4",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"thwo4zme"},thumbnailNonActive:{opacity:"ggwglk7f",":hover":{opacity:"oecfc0l4"}},videoIcon:{alignItems:"bp9cbjyn",display:"j83agx80",height:"bipmatt0",justifyContent:"taijpn5t",position:"pmk7jnqg",width:"iyyx5f41"}};function m(a){var c=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},d=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri;return j.jsx("div",{className:(i||(i=b("stylex")))(l.thumbnailContainer),children:j.jsx(b("CometPressable.react"),{display:"inline",label:h._("Thumbnail {index}",[h._param("index",a.index)]),onPress:a.onClick,overlayDisabled:!0,children:j.jsxs("div",{className:i(l.thumbnail,a.active!==!0?l.thumbnailNonActive:null),style:c,children:[a.image.mediaType==="video"?j.jsx("div",{className:(i||(i=b("stylex")))(l.videoIcon),children:j.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("507224"),12)})}):null,a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?j.jsx(b("CometImage.react"),{src:d,xstyle:l.imageInner}):j.jsx(b("CometBackgroundImage.react"),{src:d})]})})})}function a(a){var c=j.useState(0),d=c[0],e=c[1],f=j.useRef(null),g=j.useRef(null),h=j.useRef(null);j.useEffect(function(){function c(){if(f.current!=null){var b=f.current,c=b.offsetWidth;b=b.scrollWidth;var g=h.current;if(b===c)return;b=-d/k;var i=Math.floor((c+-d)/k),j=b+Math.floor((i-b)/2);if(g!=null){if(a.activeIndex>g&&(a.activeIndex<j||i===a.images.length)){h.current=a.activeIndex;return}if(a.activeIndex<g&&(a.activeIndex>j||b===0)){h.current=a.activeIndex;return}}j=d-(a.activeIndex-((i=g)!=null?i:0))*k;j=Math.min(0,j);j=Math.max(Math.floor(c-a.images.length*k),j);h.current=a.activeIndex;e(j)}}c();g.current!=null&&window.removeEventListener("resize",g.current);c=b("CometThrottle")(c,100);g.current=c;window.addEventListener("resize",c);return function(){g.current!=null&&window.removeEventListener("resize",g.current)}},[a.images,a.activeIndex,d]);return a.images.length<2?null:j.jsx("div",{className:(i||(i=b("stylex")))(l.root),ref:f,style:{transform:"translate3d("+(b("Locale").isRTL()?-d:d)+"px, 0, 0)"},children:a.images.map(function(b,c){return j.jsx(m,{active:a.activeIndex===c,image:b,index:c,onClick:function(b){a.onSetImage(c)}},"thumbnail_"+c)})})}}),null);
__d("CometPhotoViewerImageSuspense",["Promise","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=document.body,i=typeof jest==="undefined"&&document!==void 0&&typeof document.createElement==="function";function j(a){return new(b("Promise"))(function(b){if(!i||h==null)return b();var c=document.createElement("img");c.onload=c.onerror=b;c.src=a})}var k=new Map(),l=2e3,m={get:function(a){var b=k.get(a);if(b!=null){k["delete"](a);k.set(a,b);return b}},set:function(a,b){k["delete"](a);k.set(a,b);if(k.size>l){a=k.keys().next();a.done||k["delete"](a.value)}}};function n(a){if(a==null)return;var b=m.get(a);if(b!=null)if(b.pending===!0)throw b.promise;else return;else{b=j(a);var c={pending:!0,promise:b};b.then(function(){c.pending===!0&&(c.pending=!1)});m.set(a,c);throw b}}a=g.forwardRef(function(a,b){n(a.src);return g.jsx("img",babelHelpers["extends"]({},a,{ref:b}))});e.exports=a}),null);